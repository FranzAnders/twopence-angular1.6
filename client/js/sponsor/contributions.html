
<div class="section">

  <div class="sponsorSection-illustrContainer">
    <div class="sponsorSection-illustr  sponsorSection-illustr--contributions  show-for-medium-up"
                ng-if="contributions.totalContributions !== 0">
      
    </div>
  </div>

  <div class="row">
    
    <div class="small-12 medium-4  columns">
      
      <div class="mb7">

        <h1 class="txtc2  ff2">Contribution <br>History</h1>  

        <p>
          Review all contributions towards your sponsees student loans. 
        </p>

      </div>

      <hr class="hr--faded">

      <h1 class="headline  headline--alt subline text-micro text-center  txtc2">
        total Contributions 
      </h1>
      
      <h2 class=" text-center  fwb txtc1 text-mega  text-center">
         ${{contributions.totalContributions}}
      </h2>

      <hr class="hr--faded mb0">


    </div>

    <div class="small-12  medium-8  large-7    columns" ng-if="contributions.totalContributions !== 0">

      <label for="contributionsFilter" class="label text-micro">
        Filter:
      </label>

      <div class="select-customWrapper">

          <select name="contributionsFilter" id="contributionsFilter" 
                  class="select--medium  select--prim"
                  ng-model="contributions.sponseeFilter"
                  ng-change="contributions.showFilter()"
                  ng-options="sponsee.id as sponsee.first_name for sponsee in contributions.sponsees">

                <option value="" selected>
                  All
                </option> 

          </select> 

      </div>

    </div>

    <div class="small-12 medium-8  large-7  large-pull-1  columns" ng-if="contributions.totalContributions !== 0">

      <div class="card" >

          <table class="table  table--list">
            
            <tr>

              <th>
                Date
              </th>    

              <th>
                Sponsee
              </th>

              <th class="text-right">Amount</th>

            </tr>
          
            <tr ng-repeat="contribution in contributions.contributionsShowing | filter: 
              (!!contributions.sponseeFilter || undefined) && 
              {sponsee : {email: contributions.sponseeFilter}} | orderBy: 'date':true track by $index | limitTo: contributions.inView">
              
              <td ng-if="!contribution.date">
                  
                  <span class="tag  tag--inactive">pending</span>

              </td>

              <td ng-if="contribution.date" class="text-center">
              <div class="grid grid--justifyLeft">
                
              <div >
                <span class="uc fwb text-micro display-block  text-center mb0">{{contribution.date | date: 'MMM'}}</span>
                <span class="uc h4  display-block  text-center">{{contribution.date | date: 'd'}}</span>
              </div>
              </div>


              </td>
          
              <td>{{contribution.sponsee.first_name}}</td>

              <td class="table-contribution text-right" >${{contribution.amount}}</td>

            </tr>
          
          </table>
          
          <div class="card-content pt0"
               ng-if="contributions.contributionsShowing > 4">
            <button class="button button--medium  button--expanded  button--link"
                    ng-click="contributions.showMore()">
              Show More
            </button>
          </div>

        </div>

    </div>

    <div class="small-12 medium-8  large-6  large-pull-1  columns text-center" ng-if="contributions.totalContributions === 0">
      
      <img src="assets/images/illustr--nothingHere.svg" alt="" width="200" class="mtb4">

      <p>You havenâ€™t made any contributions to your sponsees yet. This is where your contribution history will be once you start making payments. Why not start now?</p>

      <div class="row">
        <div class="small-12 columns medium-8  medium-centered large-9 large-centered">
          <a ui-sref="sponsor.dashboard" class="button button--tertiary  button--small  button--expanded">
          Contribute to a Sponsorship</a>
        
         <p>
              <a ui-sref="sponsor.sponseeAdd" class="">
           Create a Sponsorship</a>
         </p>

        </div>
      </div>

    </div>

  </div>

</div>
