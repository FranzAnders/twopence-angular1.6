
<div class="section--main">

  <div class="row">

    <div class="small-12 medium-4  columns">


        <h1 class="txtc2">
          Manage <br> Matching Plan
        </h1>

        <h2 class="h5 txtc2">Sponsorship: 
            <span  ng-bind="sponseePlanEdit.sponsee.first_name + ' ' + sponseePlanEdit.sponsee.last_name">
              
            </span>
        </h2>
        
        <p class="">
          Edit this sponsee's plan's monthly matching limit or pause their existing active matching plan. 
        </p>


    </div>

    <div class="small-12 columns medium-8">

      <div class="card">
        
        <div class="card-header">
              
          <h1 class="card-title">
            Plan Settings
          </h1>  

        </div>

        <form ng-submit="sponseePlanEdit.createPlan(sponseePlanEdit.planEditForm, sponseePlanEdit.sponsorshipId, sponseePlanEdit.sponsee)"
              name="sponseePlanEdit.planEditForm"
              novalidate>
          
          <div class="card-content">
                      
            <label class="grid med-grid--flexDirectionRow grid--flexDirectionColumn grid--justifyCenter med-grid--justifySpaceAround"
                   for="plan_limit">
                      
              <div  class="grid-cell grid-cell--autoSize">

                <h2 class="text-center  medium-text-left  uc txtc2 fwb  text-micro">Monthly Limit</h2>

              </div>
          
              <div class="grid-cell text-center">
                  
                     <input class="clearField clearField--money mb0" 
                           type="number" 
                           step="0.01" 
                           id="plan_limit"
                           name="planLimit"
                           required
                           ng-model="sponseePlanEdit.customAmount" 
                           ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" 
                           ng-class="{'is-inactive' : sponseePlanEdit.sponseePlan}"/>
                
                <span class="text-mini  uc"
                      ng-hide="sponseePlanEdit.planEditForm.planLimit.$dirty">Click to edit limit amount</span>
                
                <button type="submit"
                        ng-show="sponseePlanEdit.planEditForm.planLimit.$dirty"
                        class="button--primary  button--secondary ">
                  Update Limit
                </button>

              </div>
                      
            </label>
          
          </div>

          <hr class="hr--faded mb0">

          <div class="card-content">
      
            <div class="grid grid--full med-grid--1of3 med-grid--flexDirectionRow grid--flexDirectionColumn grid--justifyCenter med-grid--justifySpaceAround med-grid--center">

              <div class="grid-cell">
                  <h2 class="text-center  medium-text-left  uc txtc2 fwb  text-micro mb0">Plan Status</h2>
              </div>
              

              <div class="grid-cell  text-center">

                <span ng-if="sponseePlanEdit.isActive" class="tag tag--active  tag--large mrl0">
                    Active
                  </span>
                        
                <span ng-if="!sponseePlanEdit.isActive" class="tag  tag--inactive  tag--large mrl0">
                  Paused
                </span>
            
            
                <span ng-if='sponseePlanEdit.sponsorshipInfo.sponsee.status === "invited" || sponsorship.sponsorshipInfo.sponsee.status === "onboarding"'>
                    <span class="tag  tag--warning  tag--large">Invite Pending</span>
                </span>

            </div>

            <div class="grid-cell  text-center">

                <a class="mb0" ng-click="sponseePlanEdit.pausePlan(sponseePlanEdit.latestPlan, sponseePlanEdit.sponsorshipId)">
                 Pause Plan
                </a>

             </div>

            </div>

          </div>

          
          

          </form>


    </div>

    </div>

  </div>

</div>
